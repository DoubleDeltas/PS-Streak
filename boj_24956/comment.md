# 백준 24956: 나는 정말 휘파람을 못 불어
_Code: 20220429, Comment: 20220429, Last Edit: -_

## 들어가는 말

 한동안 중간고사라던지 외주 개발이 겹쳐서 PS를 소홀히 했다. 얼떨결에 해법이 보이는 문제를 찾아서, 이틀에 걸쳐 겨우 풀어냈다.

 `int`의 표현 범위를 간과해 몇 번을 틀렸다.

## 본문
필자는 'H'를 기준으로 답을 구했다.

문자열 내 어떤 'H'에 대해,
* 그 'H' __앞__에 있는 'W'의 개수를 $w$
* 그 'H' __뒤__에 있는 'E'의 개수를 $e$
라고 하면 구하는 경우의 수는...

$$  {w \choose 1} \times \left( {e \choose 2} + {e \choose 3} + \cdots + {e \choose e} \right)$$

라고 할 수 있고,

$$ \sum_{i=0}^{k} {n \choose k} = 2^n $$

공식을 이용해 위 식을 정리하면

$$ w\left( 2^e-e-1 \right) $$

인데, 이는 하나의 'H'에 대한 공식이므로 이를 모든 'H'에 대해 더하면 된다. 즉, 우리가 구해야 할 답을 수식으로 쓰면,

$$ \sum_{h} w[h] \left( 2^{e[h]} - e[h] - 1 \right) \mod M$$

이라 쓸 수 있다. ($M = 10^9 + 7$)

그러나 구하는 답은, 특히 그 중에서 $2^{e[h]}$ 항은 그냥 계산하기엔 너무 크므로, $2^{e[h]} \mod M$을 따로 구해야 한다. 필자는 이용해 풀었다.

그럼에도 표현 범위가 `int`를 넘어가는 일이 있으니, `long long`(64비트 정수)를 써야 한다.

## 나가는 말
'H'를 이용하는 아이디어만 찾으면 나머지는 어렵지 않은 수학 문제였다. 다음에는 더 컴퓨터공학적인 문제를 풀어보자.