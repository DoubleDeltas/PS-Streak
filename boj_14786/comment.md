# 백준 14786: Ax+Bsin(x)=C
_Code: 20220418, Comment: 20220418, Last Edit: -_

## 들어가는 말
 오늘부터 중간고사 기간이다. AI 강의도 빠지는 주간이니 이참에 밀린 인터넷 생활 좀 청산하고, 스트릭은 유지해야 하니 간단한 문제 하나를 풀어보자.
 
 이 문제에서는 뉴턴-랩슨법(Newton-Lapson Method)를 사용하기만 하면 풀리는 간단한 문제다. 필자는 아직 수치해석을 배우지 않았지만, 한창 '컴퓨터로 $\sqrt{2}$는 어떻게 구할까' 등의 쓸데없는 생각에 가득차있던 중고등학교 시절 보던 거라 알고 있었다.

 사실 그 이외에는 너무나 간단한 문제라, 설명할 거리도 별로 없다. 여기선 간단하게 뉴턴-랩슨법에 대해서만 짚고 넘어가자.

## 본문
 뉴턴-랩슨법은 미분가능한 함수 $f(x)$에 대해 방정식 $f(x)=0$의 근사해를 구하는 알고리즘으로,

 $$ x_n = x_{n-1} - \frac{f(x_{n-1})}{f'(x_{n-1})} $$

 위 점화식으로 정의되는 수열 $\left\{x_n\right\}$은 $n \to \infty$일 때 $0$으로 수렴한다는 법칙이다.

 이 문제에서는 주어진 수식

 $$ Ax+B\sin x = C $$

 을 $f(x) = 0$ 꼴로 바꿔,
 
 $$ f(x) = Ax+B \sin x - C = 0 $$
 
 을 얻는다. 뉴턴-랩슨 법에는 이를 미분한 함수 $f'$가 필요하므로 미분하면,

 $$ f'(x) = A + B \cos x $$

 도 얻을 수 있다. 이제 이대로 위 수식에 대입한 뒤, 허용 오차 이내가 될때까지 돌리면 된다.

 여기서 유의할 점이 있다. 뉴턴-랩슨법을 사용할 때는 초기값 $x_0$이 중요한데, 이를 잘못 지정하면 수렴하기까지 한참을 헤멘다. 간단히 눈대중으로 초기값을 알아보자.

 * 처음 주어진 식의 좌변 $ Ax+B\sin x $은 $C$와 가까워야 한다.
 * 여기서 $ 0 \leq \sin x \leq 1 $이므로 $Ax \leq C \leq (A+B)x$다.
 * 따라서 $\frac{C}{A+B} \leq x \leq \frac{C}{A}$ 정도로 잡으면 될 것이다.

 코드에서는 $\frac{C}{A}$를 초깃값으로 잡았다.

 또 하나 유의해야 할 것은 근의 개수다. 그러나 이 문제에서는 $B \leq A$라는 조건이 보장되어 있어, $f$는 자연스럽게 증가 함수가 된다. (앞서 말했듯 $ 0 \leq \sin x \leq 1 $이므로)
 
 증가 함수는 일대일 대응이다. 따라서 근은 무조건 1개임이 보장된다. 그러니 문제는 없을 것 같다.

## 나가는 말
하지만 아직 풀리지 않은 의문이 있다. 만약 $A=B$라면, $f'(x)=0$이 되는 지점이 존재한다. 만약 그 점에 가까운 점으로 근사가 이루어진다면, 아주 작아지거나 커지는데... 연산에 문제가 생기지 않다는 것이 어떻게 보장되는걸까?